<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Customer Assistant | Joms</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes wave {
            0% { transform: rotate(0deg); }
            10% { transform: rotate(14deg); }
            20% { transform: rotate(-8deg); }
            30% { transform: rotate(14deg); }
            40% { transform: rotate(-4deg); }
            50% { transform: rotate(10deg); }
            60% { transform: rotate(0deg); }
            100% { transform: rotate(0deg); }
        }
        .animate-wave {
            animation: wave 2s linear infinite;
            transform-origin: 70% 70%;
        }
        .typing-text {
            overflow: hidden;
            white-space: nowrap;
            display: inline-block;
            width: 0;
            animation: typing 2s steps(40, end) forwards;
            border-right: 2px solid #3b82f6;
        }
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
    </style>
</head>
<body class="bg-slate-950 text-white font-sans min-h-screen p-6 md:p-12">

    <div class="max-w-4xl mx-auto">
        <a href="services.html" class="text-green-400 hover:text-white transition flex items-center gap-2 mb-8">
            <span>‚Üê</span> Back to Services
        </a>

        <h1 class="text-4xl font-bold mb-6 text-green-400">AI Customer Assistant</h1>

        <div class="w-full min-h-[450px] bg-slate-800/50 rounded-3xl shadow-2xl flex flex-col items-center justify-center p-8 border border-white/10">
            <div class="relative w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center mb-6 text-5xl shadow-lg">
                <span class="block animate-wave transform -translate-y-2">üëã</span>
                <span class="absolute top-1/2 left-1/2 -translate-x-1/2 translate-y-1/2 text-2xl">ü§ñ</span>
            </div>

            <div class="bg-white/5 text-white p-6 rounded-2xl max-w-lg text-center border border-white/10 mb-8 min-h-[100px] flex items-center justify-center">
                <span id="bot-message" class="typing-text">Hi, I am your assistant. What would you like to know?</span>
            </div>

            <div class="w-full max-w-md">
                <input type="text" id="user-input" onkeypress="handleQuery(event)" class="w-full p-4 rounded-2xl bg-slate-900 border border-white/20 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-inner" placeholder="Type your question...">
                <p class="text-[10px] text-slate-500 mt-3 text-center uppercase tracking-widest">Press Enter to Chat</p>
            </div>
        </div>
    </div>

    <script src="bot-data.js"></script>

    <script>
        function handleQuery(event) {
            if (event.key === "Enter") {
                const inputField = document.getElementById('user-input');
                const userQuery = inputField.value.toLowerCase().trim();
                const displayArea = document.getElementById('bot-message');

                if (!userQuery) return;

                displayArea.classList.remove('typing-text');
                void displayArea.offsetWidth;
                displayArea.style.width = 'auto';
                displayArea.style.borderRight = 'none';

                // 1. Greetings
                const greetings = ["hi", "hello", "hoi", "hai"];
                if (greetings.includes(userQuery)) {
                    displayArea.innerText = userQuery.charAt(0).toUpperCase() + userQuery.slice(1) + "!";
                    inputField.value = "";
                    return;
                }

                // 2. Logic
                let response = "I'm sorry, I don't have information on that.";
                
                if (window.botData) {
                    const found = window.botData.find(item => {
                        const dbQ = item.question.toLowerCase();
                        return userQuery.includes(dbQ) || dbQ.includes(userQuery);
                    });
                    if (found) response = found.answer;
                }

                displayArea.innerText = response;
                inputField.value = "";
            }
        }
    </script>
</body>
</html>
